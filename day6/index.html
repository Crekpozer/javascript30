<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ajax a vista</title>
</head>
<body>
    
    <script>
        
        // Lugar de onde vai ser tirado os dados
        const endpoint = 'https://gist.githubusercontent.com/letanure/3012978/raw/6938daa8ba69bcafa89a8c719690225641e39586/estados-cidades2.json';

        // Variavel que vai armazenar esses dados
        const estados = {}
        const cidades= []

        // Procura no endpoint por algo (serio, qualquer coisa)
        fetch(endpoint)

            // Procura por algo
            .then(blob => blob.json()) // Acha um muntuado de bagunça e transforma em um json
            .then(data => estados) // Move a bagunça de dentro do JSON para uma variavel
            .then(data => cidades.push(data.cities))
    

        function findMatches(wordToMatch, cities){
            return cities.filter(place => {
                const regex = new RegExp(wordToMatch, 'gi')
                
                //estados.push(...estados[0])
                //cidades.push(...cidades[0])

                console.table(estados)
                console.table(cidades)
            })
        }
        
        
    </script>

</body>
</html>